
@{
    ViewData["Title"] = "Show TimeSheet";
    var attendances = ViewBag.attendances as List<DataTransferObject.AttendanceDTO.AttendanceDTO>;

    // Rainbow row colors
    string[] rowColors = new[] { "table-primary", "table-secondary", "table-success", "table-danger", "table-warning", "table-info", "table-light" };
}

<!-- Make sure Bootstrap is included in your _Layout or here -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
    <div class="card shadow-lg border border-primary">
        <div class="card-body">
            <h2 class="text-center text-primary mb-4">Employee Timesheet</h2>

            <table class="table table-bordered table-hover text-center">
                <thead class="table-dark">
                    <tr>
                        <th>Employee ID</th>
                        <th>Name</th>
                        <th>Department</th>
                        <th>Work Date</th>
                        <th>Check In</th>
                        <th>Check Out</th>
                    </tr>
                </thead>
                <tbody>
                    @if (attendances != null && attendances.Any())
                    {
                        int i = 0;
                        foreach (var item in attendances)
                        {
                            var colorClass = rowColors[i % rowColors.Length]; // Cycle through 7 colors
                            <tr class="@colorClass">
                                <td>@item.EmployeeId</td>
                                <td>@item.EmployeeName</td>
                                <td>@item.DepartmentName</td>
                                <td>@item.WorkDate.ToString("yyyy-MM-dd")</td>
                                <td>@item.CheckIn.ToString("HH:mm")</td>
                                <td>@item.CheckOut?.ToString("HH:mm")</td>
                            </tr>
                            i++;
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="6" class="text-danger">No attendance records found.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
